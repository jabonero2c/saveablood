
{% extends "base.html" %}

{% block body %}
    <h1>Welcome, {{ username }}</h1>
    <a href="{{ url_for('logout') }}">Logout</a>

    <h2>Post Blood Donation</h2>
    <form action="{{ url_for('post_blood') }}" method="POST">
        <textarea name="content" placeholder="Post about blood donation" required></textarea>
        <input type="submit" value="Post Blood Donation">
    </form>

    <h2>Request Blood</h2>
    <form action="{{ url_for('request_blood') }}" method="POST">
        <input type="text" name="blood_type_needed" placeholder="Blood Type Needed" required>
        <input type="text" name="location_needed" placeholder="Location Needed" required>
        <input type="submit" value="Request Blood">
    </form>

    <h2>Blood Donation Posts</h2>
    {% for post in posts %}
        <p>{{ post.content }} - <em>Posted by: {{ post.author.username }}</em></p>
    {% endfor %}

    <h2>Blood Requests Near You</h2>
    {% for request in requests %}
        <p>{{ request.blood_type_needed }} needed in {{ request.location_needed }} - <em>Requested by: {{ request.requester.username }}</em></p>
    {% endfor %}
{% endblock %}
